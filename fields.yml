## YAML Template.
---

actions:
 - type: submit
 - action: post

add_user: 
  desc: Add a new user into the system
  access: admin
  url: /user/add

admin:
  name: Administrator

agree_terms:
  name: I have read and accepted the terms and conditions.
  valid: equals(1, Must agree and accept to terms and conditions)
  
  
audit_trail:
  access: admin
  url: /user/audit_trail

blank:
  name: " "
  
calculate_days:
  type: calculate_period
  unit: day
  prev_unit: hour
  prev_unit_size: 24

calculate_hours:
  type: calculate_period
  unit: hour
  prev_unit: minute
  prev_unit_size: 60

calculate_period:
  sql: select ceiling(timestampdiff($prev_unit,'$start_time', '$end_time')/$prev_unit_size)

cellphone:
  desc: The cellphone number at which you can be contacted on
  valid: national_tel

change_password: 
  desc: Change your current password
  access: reg
  action: dialog
  url: /user/start_reset_password

confirm_details:
  name: I confirm that the details provided are true and correct. 
  valid: equals(1, Must confirm that details are true and correct)
    
contacts:
  email: support@mukoni.co.za

confirm_password: 
  type: password
  desc: Type in the same password as above to confirm correctness
  valid: matches(password)
  
country:
  options:    
    - sql: SELECT item_code,item_name item_code from ref_list WHERE list_name = "country"
  valid: provided
    
day_of_month:
  options:
    - 1st
    - 2nd
    - 3rd
    - 4th
    - 5th
    - 6th
    - 7th
    - 8th
    - 9th
    - 10th
    - 11th
    - 12th
    - 13th
    - 14th
    - 15th
    - 16th
    - 17th
    - 18th
    - 19th
    - 20th
    - 21st
    - 22nd
    - 23rd
    - 24th
    - 25th
    - 26th
    - 27th
    - 28th
    - 29th
    - 30th
    - 31st  

day_of_week:
  options:
    - Sunday
    - Monday
    - Tuesday
    - Wednesday
    - Thursday
    - Friday
    - Saturday
developed_by:
  name: developed by Mukoni Software
  
email:
  desc: Valid e-mail address
  valid: 
    - email

email_address:
  type: email

error_page:
  desc: Unexpected error occured. Please report to your System Administrator.
 
facebook:
  src: /fb.png
  url: http://facebook.com
  
first_name:
  desc: Your first name as written in your ID book
  valid:
    - at_least(2)
    - alphabetic
  
goto:
  action: $page.html
 
home:
  url: /home
     
id:
  name: Reference #

id_no:
  name: ID Number
  desc: Valid South African ID number
  valid:
    - za_id

id_number:
  type: id_no
  
inputs:
  - type: input
  
last_name:
  desc: Your last name as written in your ID book
  valid:
    - at_least(2)
    - /[a-z '-]/i

latitude:
  valid: 
    - /^\d+\.\d+$/

login:
  desc: Log in to the system
  access: public
  audit: $email
  action: dialog
  url: /user/login
  src: /logout_icon.jpg 

logout:
  desc: Log out
  access: reg 
  audit: $email  
  src: /logout_icon.jpg
  action: post
  call: user::logout()

longitude:
  valid: 
    - /^\d+\.\d+$/

manage_user_group:
  access: user
  url: /user/groups
  
manage_users:
  access: user
  url: /user/list

mobile_number:
  desc: The mobile number at which you can be contacted on
  valid: national_tel

month:
  options:
    - january
    - february
    - march
    - april
    - may
    - june
    - july
    - august
    - september
    - october
    - november
    - december
     
mukoni_logo:
    desc: Visit our home page
    type: image
    src: mukoni.png
    url: http://www.mukoni.co.za

otp:
  name: OTP
  desc: One Time Pin

password:
  desc: A secret combination of letters and number only known to you. Please do not give out your password.
  valid: password
 
query:
  type: button
  call: $class::$invoker($key)
  
register:
  desc: Click here to register
  access: public
  url: /user/register

send_email:
  headers:
    - MIME-Version: "1.0"
    - Content-type: text/html; charset=iso-8859-1    
  from: $user_full_name <$user_email>
  

start_date:
  name: Start Date 
  desc: Date Effective From
  
    
submit:
  type: button
  selector: "#page *"
  validate: all
  call: $class::$invoker($key)
  action: post

submit_page:
  type: submit
  name: Submit
  call: $class::$page($key)
      
title:
  desc: A descriptive or distinctive appellation, especially one belonging to a person by right of rank, office, attainment
  options:
    - Dr
    - Miss
    - Mr
    - Mrs
    - Ms
    - Prof
    - Rev
    
twitter:
  src: /twitter.png
  url: https://twitter.com

users:
  access: admin
  url: /user/list

validator:
  action: post
  validate: all

view_profile: 
  desc: View my profile
  access: reg
  url: /user/profile
  action: dialog

view_users:
  access: admin
  desc: List all the users
  url: /user/list

weekday:
  options:
    - Sunday
    - Monday
    - Tuesday
    - Wednesday
    - Thursday
    - Friday
    - Saturday
    
    